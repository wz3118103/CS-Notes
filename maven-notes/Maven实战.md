
# 1.为什么需要maven

## 1.1 没有maven的原始社会

* 手动运行成百上千个单元测试
* 手动管理依赖包，放到lib下面
* 缺少依赖包，要不断去尝试
* 依赖冲突，jar包升级很麻烦
* 每隔几天都需要进行编译、打包、部署、测试
* 整个团队经常要对几十个工程进行繁琐的打包和部署，然后做好了后，需要构建成一个个发布包，依次将几十个工程部署到生产环境
* 总结：纯手工，效率很低下，经常出问题

## 1.2 让依赖与构建完全自动化

* 写完代码，写完单元测试，运行maven，然后单元测试用例就自动运行，自动出来一份完整的单元测试覆盖率报告，以及单元测试运行错误的报告
* 如果一个系统有多个工程，用maven把多个工程集成在一起
* 对于依赖，不用手动管理，用maven配置一下依赖，用一个统一的父工程约束所有工程的依赖版本，所有的依赖下载、版本调解、版本升级等繁琐事情全部由maven自动搞定
* 编译+打包+发布，不用手工，简单运行一下maven命令即可；如果要对数十个工程统一进行编译、打包和整合发布，一个maven命令就搞定，一键部署。
* 简单来说，用了maven以后，在依赖管理、构建管理、模块化拆分管理，全部自动化！

# 2.构建工具比较

* make：最原始的构建工具，不能跨平台
* ant：手工配置的语法繁琐，另外依赖管理需要借助ivy来完成，工作量有点大
* maven
* gradle：google发布，不再基于xml进行配置，基于DSL语言进行构建管理，语法功能更加强大，android这块用的较多

# 3.maven安装

* 确保安装了jdk
* 下载maven包
* 解压缩maven包到某个目录
* 配置maven环境变量
  - 配置M2_HOME环境变量为maven安装目录
  - 在PATH环境变量中，加入%M2_HOME%\bin
* 执行mvn -v命令，检查安装是否完成
* 设置MAVEN_OPTS环境变量
  - maven也是java写的，自身的jvm内存大小也是需要关注的，如果在构建特别大的项目时，可能会出现maven自身jvm内存不够，导致构建失败。
  - 设置MAVEN_OPTS环境变量，就是设置maven的jvm参数，可以设置为-Xms128m -Xmx512m
* 设置maven的配置文件settings.xml
  - 一般maven配置文件都会放在当前用户的目录下的~/.m2/settings.xml，这样就是对当前用户有效
  - mvn help:system 会创建.m2目录，下载很多东西
  - 将maven中的settings.xml拷贝到该目录，作为maven全局的配置文件


















